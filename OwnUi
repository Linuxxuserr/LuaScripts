-- VoidwareUI Library v2.0
-- Modern Discord/Voidware Style UI Library
-- GitHub: https://github.com/YOUR_USERNAME/VoidwareUI

local VoidwareUI = {}
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")

-- Theme Colors
local Theme = {
    Background = Color3.fromRGB(47, 49, 54),
    Sidebar = Color3.fromRGB(32, 34, 37),
    Secondary = Color3.fromRGB(54, 57, 63),
    Accent = Color3.fromRGB(114, 137, 218),
    AccentHover = Color3.fromRGB(103, 123, 196),
    Text = Color3.fromRGB(255, 255, 255),
    SubText = Color3.fromRGB(185, 187, 190),
    Border = Color3.fromRGB(40, 43, 48),
    Success = Color3.fromRGB(67, 181, 129),
    Error = Color3.fromRGB(240, 71, 71),
    ToggleOn = Color3.fromRGB(67, 181, 129),
    ToggleOff = Color3.fromRGB(114, 118, 125)
}

-- Utility Functions
local function Tween(instance, properties, duration)
    duration = duration or 0.2
    local tween = TweenService:Create(instance, TweenInfo.new(duration, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), properties)
    tween:Play()
    return tween
end

local function MakeDraggable(frame, handle)
    local dragging, dragInput, dragStart, startPos
    
    handle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    handle.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            Tween(frame, {Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)}, 0.1)
        end
    end)
end

-- CreateWindow: Main window creation
function VoidwareUI:CreateWindow(config)
    config = config or {}
    local WindowName = config.Name or "VoidwareUI"
    local MinimizeKey = config.MinimizeKey or Enum.KeyCode.RightShift
    
    -- Main ScreenGui
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "VoidwareUI_" .. math.random(1000, 9999)
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    ScreenGui.ResetOnSpawn = false
    
    if gethui then
        ScreenGui.Parent = gethui()
    elseif syn and syn.protect_gui then
        syn.protect_gui(ScreenGui)
        ScreenGui.Parent = CoreGui
    else
        ScreenGui.Parent = CoreGui
    end
    
    -- Main Frame
    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Size = UDim2.new(0, 700, 0, 500)
    MainFrame.Position = UDim2.new(0.5, -350, 0.5, -250)
    MainFrame.BackgroundColor3 = Theme.Background
    MainFrame.BorderSizePixel = 0
    MainFrame.Parent = ScreenGui
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 8)
    UICorner.Parent = MainFrame
    
    local DropShadow = Instance.new("ImageLabel")
    DropShadow.Name = "Shadow"
    DropShadow.BackgroundTransparency = 1
    DropShadow.Position = UDim2.new(0, -15, 0, -15)
    DropShadow.Size = UDim2.new(1, 30, 1, 30)
    DropShadow.ZIndex = 0
    DropShadow.Image = "rbxassetid://6015897843"
    DropShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
    DropShadow.ImageTransparency = 0.5
    DropShadow.ScaleType = Enum.ScaleType.Slice
    DropShadow.SliceCenter = Rect.new(49, 49, 450, 450)
    DropShadow.Parent = MainFrame
    
    -- Top Bar
    local TopBar = Instance.new("Frame")
    TopBar.Name = "TopBar"
    TopBar.Size = UDim2.new(1, 0, 0, 50)
    TopBar.BackgroundColor3 = Theme.Sidebar
    TopBar.BorderSizePixel = 0
    TopBar.Parent = MainFrame
    
    local TopBarCorner = Instance.new("UICorner")
    TopBarCorner.CornerRadius = UDim.new(0, 8)
    TopBarCorner.Parent = TopBar
    
    local TopBarFill = Instance.new("Frame")
    TopBarFill.Size = UDim2.new(1, 0, 0, 15)
    TopBarFill.Position = UDim2.new(0, 0, 1, -15)
    TopBarFill.BackgroundColor3 = Theme.Sidebar
    TopBarFill.BorderSizePixel = 0
    TopBarFill.Parent = TopBar
    
    -- Title with Icon
    local TitleIcon = Instance.new("Frame")
    TitleIcon.Size = UDim2.new(0, 35, 0, 35)
    TitleIcon.Position = UDim2.new(0, 12, 0.5, -17.5)
    TitleIcon.BackgroundColor3 = Theme.Accent
    TitleIcon.BorderSizePixel = 0
    TitleIcon.Parent = TopBar
    
    local IconCorner = Instance.new("UICorner")
    IconCorner.CornerRadius = UDim.new(0, 8)
    IconCorner.Parent = TitleIcon
    
    local IconText = Instance.new("TextLabel")
    IconText.Size = UDim2.new(1, 0, 1, 0)
    IconText.BackgroundTransparency = 1
    IconText.Text = string.sub(WindowName, 1, 1)
    IconText.TextColor3 = Theme.Text
    IconText.TextSize = 20
    IconText.Font = Enum.Font.GothamBold
    IconText.Parent = TitleIcon
    
    local Title = Instance.new("TextLabel")
    Title.Name = "Title"
    Title.Size = UDim2.new(1, -170, 1, 0)
    Title.Position = UDim2.new(0, 55, 0, 0)
    Title.BackgroundTransparency = 1
    Title.Text = WindowName
    Title.TextColor3 = Theme.Text
    Title.TextSize = 16
    Title.Font = Enum.Font.GothamBold
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.Parent = TopBar
    
    -- Close Button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Name = "CloseButton"
    CloseButton.Size = UDim2.new(0, 40, 0, 40)
    CloseButton.Position = UDim2.new(1, -45, 0.5, -20)
    CloseButton.BackgroundTransparency = 1
    CloseButton.Text = "√ó"
    CloseButton.TextColor3 = Theme.SubText
    CloseButton.TextSize = 28
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.BorderSizePixel = 0
    CloseButton.Parent = TopBar
    
    CloseButton.MouseButton1Click:Connect(function()
        Tween(MainFrame, {Size = UDim2.new(0, 0, 0, 0)}, 0.3)
        task.wait(0.3)
        ScreenGui:Destroy()
    end)
    
    CloseButton.MouseEnter:Connect(function()
        Tween(CloseButton, {TextColor3 = Theme.Error}, 0.2)
    end)
    
    CloseButton.MouseLeave:Connect(function()
        Tween(CloseButton, {TextColor3 = Theme.SubText}, 0.2)
    end)
    
    -- Minimize Button
    local MinimizeButton = Instance.new("TextButton")
    MinimizeButton.Name = "MinimizeButton"
    MinimizeButton.Size = UDim2.new(0, 40, 0, 40)
    MinimizeButton.Position = UDim2.new(1, -85, 0.5, -20)
    MinimizeButton.BackgroundTransparency = 1
    MinimizeButton.Text = "‚Äî"
    MinimizeButton.TextColor3 = Theme.SubText
    MinimizeButton.TextSize = 20
    MinimizeButton.Font = Enum.Font.GothamBold
    MinimizeButton.BorderSizePixel = 0
    MinimizeButton.Parent = TopBar
    
    local minimized = false
    MinimizeButton.MouseButton1Click:Connect(function()
        minimized = not minimized
        if minimized then
            Tween(MainFrame, {Size = UDim2.new(0, 700, 0, 50)}, 0.3)
        else
            Tween(MainFrame, {Size = UDim2.new(0, 700, 0, 500)}, 0.3)
        end
    end)
    
    MinimizeButton.MouseEnter:Connect(function()
        Tween(MinimizeButton, {TextColor3 = Theme.Text}, 0.2)
    end)
    
    MinimizeButton.MouseLeave:Connect(function()
        Tween(MinimizeButton, {TextColor3 = Theme.SubText}, 0.2)
    end)
    
    -- Keybind Toggle
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if not gameProcessed and input.KeyCode == MinimizeKey then
            MainFrame.Visible = not MainFrame.Visible
        end
    end)
    
    -- Make draggable
    MakeDraggable(MainFrame, TopBar)
    
    -- Sidebar
    local Sidebar = Instance.new("Frame")
    Sidebar.Name = "Sidebar"
    Sidebar.Size = UDim2.new(0, 200, 1, -50)
    Sidebar.Position = UDim2.new(0, 0, 0, 50)
    Sidebar.BackgroundColor3 = Theme.Sidebar
    Sidebar.BorderSizePixel = 0
    Sidebar.Parent = MainFrame
    
    -- Search Bar
    local SearchContainer = Instance.new("Frame")
    SearchContainer.Name = "SearchContainer"
    SearchContainer.Size = UDim2.new(1, -16, 0, 35)
    SearchContainer.Position = UDim2.new(0, 8, 0, 10)
    SearchContainer.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    SearchContainer.BackgroundTransparency = 0.5
    SearchContainer.BorderSizePixel = 0
    SearchContainer.Parent = Sidebar
    
    local SearchCorner = Instance.new("UICorner")
    SearchCorner.CornerRadius = UDim.new(0, 4)
    SearchCorner.Parent = SearchContainer
    
    local SearchIcon = Instance.new("TextLabel")
    SearchIcon.Size = UDim2.new(0, 30, 1, 0)
    SearchIcon.BackgroundTransparency = 1
    SearchIcon.Text = "üîç"
    SearchIcon.TextColor3 = Theme.SubText
    SearchIcon.TextSize = 16
    SearchIcon.Font = Enum.Font.Gotham
    SearchIcon.Parent = SearchContainer
    
    local SearchBox = Instance.new("TextBox")
    SearchBox.Size = UDim2.new(1, -35, 1, 0)
    SearchBox.Position = UDim2.new(0, 30, 0, 0)
    SearchBox.BackgroundTransparency = 1
    SearchBox.Text = ""
    SearchBox.PlaceholderText = "Search"
    SearchBox.PlaceholderColor3 = Theme.SubText
    SearchBox.TextColor3 = Theme.Text
    SearchBox.TextSize = 14
    SearchBox.Font = Enum.Font.Gotham
    SearchBox.TextXAlignment = Enum.TextXAlignment.Left
    SearchBox.ClearTextOnFocus = false
    SearchBox.Parent = SearchContainer
    
    -- Tab Container
    local TabContainer = Instance.new("Frame")
    TabContainer.Name = "TabContainer"
    TabContainer.Size = UDim2.new(1, 0, 1, -130)
    TabContainer.Position = UDim2.new(0, 0, 0, 55)
    TabContainer.BackgroundTransparency = 1
    TabContainer.BorderSizePixel = 0
    TabContainer.Parent = Sidebar
    
    local TabList = Instance.new("UIListLayout")
    TabList.SortOrder = Enum.SortOrder.LayoutOrder
    TabList.Padding = UDim.new(0, 2)
    TabList.Parent = TabContainer
    
    local TabPadding = Instance.new("UIPadding")
    TabPadding.PaddingTop = UDim.new(0, 5)
    TabPadding.PaddingLeft = UDim.new(0, 8)
    TabPadding.PaddingRight = UDim2.new(0, 8)
    TabPadding.Parent = TabContainer
    
    -- Player Info at Bottom
    local PlayerInfo = Instance.new("Frame")
    PlayerInfo.Name = "PlayerInfo"
    PlayerInfo.Size = UDim2.new(1, 0, 0, 60)
    PlayerInfo.Position = UDim2.new(0, 0, 1, -60)
    PlayerInfo.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    PlayerInfo.BackgroundTransparency = 0.3
    PlayerInfo.BorderSizePixel = 0
    PlayerInfo.Parent = Sidebar
    
    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    
    -- Player Avatar
    local PlayerAvatar = Instance.new("ImageLabel")
    PlayerAvatar.Size = UDim2.new(0, 40, 0, 40)
    PlayerAvatar.Position = UDim2.new(0, 10, 0.5, -20)
    PlayerAvatar.BackgroundColor3 = Theme.Accent
    PlayerAvatar.BorderSizePixel = 0
    PlayerAvatar.Image = Players:GetUserThumbnailAsync(LocalPlayer.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size150x150)
    PlayerAvatar.Parent = PlayerInfo
    
    local AvatarCorner = Instance.new("UICorner")
    AvatarCorner.CornerRadius = UDim.new(1, 0)
    AvatarCorner.Parent = PlayerAvatar
    
    local PlayerName = Instance.new("TextLabel")
    PlayerName.Size = UDim2.new(1, -65, 0, 20)
    PlayerName.Position = UDim2.new(0, 55, 0, 10)
    PlayerName.BackgroundTransparency = 1
    PlayerName.Text = LocalPlayer.Name
    PlayerName.TextColor3 = Theme.Text
    PlayerName.TextSize = 14
    PlayerName.Font = Enum.Font.GothamBold
    PlayerName.TextXAlignment = Enum.TextXAlignment.Left
    PlayerName.TextTruncate = Enum.TextTruncate.AtEnd
    PlayerName.Parent = PlayerInfo
    
    local PlayerStatus = Instance.new("TextLabel")
    PlayerStatus.Size = UDim2.new(1, -65, 0, 18)
    PlayerStatus.Position = UDim2.new(0, 55, 0, 28)
    PlayerStatus.BackgroundTransparency = 1
    PlayerStatus.Text = "@" .. LocalPlayer.Name:lower()
    PlayerStatus.TextColor3 = Theme.SubText
    PlayerStatus.TextSize = 12
    PlayerStatus.Font = Enum.Font.Gotham
    PlayerStatus.TextXAlignment = Enum.TextXAlignment.Left
    PlayerStatus.TextTruncate = Enum.TextTruncate.AtEnd
    PlayerStatus.Parent = PlayerInfo
    
    -- Content Container
    local ContentContainer = Instance.new("Frame")
    ContentContainer.Name = "ContentContainer"
    ContentContainer.Size = UDim2.new(1, -200, 1, -50)
    ContentContainer.Position = UDim2.new(0, 200, 0, 50)
    ContentContainer.BackgroundTransparency = 1
    ContentContainer.BorderSizePixel = 0
    ContentContainer.Parent = MainFrame
    
    -- Window Object
    local Window = {
        Tabs = {},
        CurrentTab = nil
    }
    
    -- CreateTab: Create a new tab
    function Window:CreateTab(config)
        config = config or {}
        local TabName = config.Name or config.Title or "Tab"
        local TabIcon = config.Icon or "üìÑ"
        
        -- Tab Button
        local TabButton = Instance.new("TextButton")
        TabButton.Name = TabName
        TabButton.Size = UDim2.new(1, 0, 0, 40)
        TabButton.BackgroundTransparency = 1
        TabButton.BorderSizePixel = 0
        TabButton.Text = ""
        TabButton.Parent = TabContainer
        
        local TabIndicator = Instance.new("Frame")
        TabIndicator.Name = "Indicator"
        TabIndicator.Size = UDim2.new(0, 0, 0, 24)
        TabIndicator.Position = UDim2.new(0, 0, 0.5, -12)
        TabIndicator.BackgroundColor3 = Theme.Text
        TabIndicator.BorderSizePixel = 0
        TabIndicator.Parent = TabButton
        
        local IndicatorCorner = Instance.new("UICorner")
        IndicatorCorner.CornerRadius = UDim.new(0, 2)
        IndicatorCorner.Parent = TabIndicator
        
        local TabIconLabel = Instance.new("TextLabel")
        TabIconLabel.Size = UDim2.new(0, 30, 1, 0)
        TabIconLabel.Position = UDim2.new(0, 12, 0, 0)
        TabIconLabel.BackgroundTransparency = 1
        TabIconLabel.Text = TabIcon
        TabIconLabel.TextColor3 = Theme.SubText
        TabIconLabel.TextSize = 18
        TabIconLabel.Font = Enum.Font.Gotham
        TabIconLabel.Parent = TabButton
        
        local TabLabel = Instance.new("TextLabel")
        TabLabel.Size = UDim2.new(1, -50, 1, 0)
        TabLabel.Position = UDim2.new(0, 40, 0, 0)
        TabLabel.BackgroundTransparency = 1
        TabLabel.Text = TabName
        TabLabel.TextColor3 = Theme.SubText
        TabLabel.TextSize = 15
        TabLabel.Font = Enum.Font.GothamSemibold
        TabLabel.TextXAlignment = Enum.TextXAlignment.Left
        TabLabel.Parent = TabButton
        
        -- Tab Content
        local TabContent = Instance.new("ScrollingFrame")
        TabContent.Name = TabName .. "Content"
        TabContent.Size = UDim2.new(1, 0, 1, 0)
        TabContent.BackgroundTransparency = 1
        TabContent.BorderSizePixel = 0
        TabContent.ScrollBarThickness = 4
        TabContent.ScrollBarImageColor3 = Theme.Accent
        TabContent.CanvasSize = UDim2.new(0, 0, 0, 0)
        TabContent.Visible = false
        TabContent.Parent = ContentContainer
        
        local ContentList = Instance.new("UIListLayout")
        ContentList.SortOrder = Enum.SortOrder.LayoutOrder
        ContentList.Padding = UDim.new(0, 8)
        ContentList.Parent = TabContent
        
        ContentList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            TabContent.CanvasSize = UDim2.new(0, 0, 0, ContentList.AbsoluteContentSize.Y + 10)
        end)
        
        local ContentPadding = Instance.new("UIPadding")
        ContentPadding.PaddingTop = UDim.new(0, 5)
        ContentPadding.PaddingLeft = UDim.new(0, 5)
        ContentPadding.PaddingRight = UDim.new(0, 10)
        ContentPadding.Parent = TabContent
        
        -- Tab Object
        local Tab = {
            Button = TabButton,
            Content = TabContent,
            Active = false
        }
        
        function Tab:Activate()
            for _, tab in pairs(Window.Tabs) do
                tab.Active = false
                tab.Content.Visible = false
                Tween(tab.Button:FindFirstChild("Indicator"), {Size = UDim2.new(0, 0, 0, 24)}, 0.2)
                local label = tab.Button:FindFirstChild("TextLabel")
                if label then Tween(label, {TextColor3 = Theme.SubText}, 0.2) end
                for _, child in pairs(tab.Button:GetChildren()) do
                    if child:IsA("TextLabel") and child.Name ~= "TextLabel" then
                        Tween(child, {TextColor3 = Theme.SubText}, 0.2)
                    end
                end
            end
            
            self.Active = true
            self.Content.Visible = true
            Tween(TabIndicator, {Size = UDim2.new(0, 4, 0, 24)}, 0.2)
            Tween(TabLabel, {TextColor3 = Theme.Text}, 0.2)
            Tween(TabIconLabel, {TextColor3 = Theme.Accent}, 0.2)
            Window.CurrentTab = self
        end
        
        TabButton.MouseButton1Click:Connect(function()
            Tab:Activate()
        end)
        
        TabButton.MouseEnter:Connect(function()
            if not Tab.Active then
                Tween(TabLabel, {TextColor3 = Theme.Text}, 0.2)
                Tween(TabIconLabel, {TextColor3 = Theme.Text}, 0.2)
                Tween(TabIndicator, {Size = UDim2.new(0, 2, 0, 24)}, 0.2)
            end
        end)
        
        TabButton.MouseLeave:Connect(function()
            if not Tab.Active then
                Tween(TabLabel, {TextColor3 = Theme.SubText}, 0.2)
                Tween(TabIconLabel, {TextColor3 = Theme.SubText}, 0.2)
                Tween(TabIndicator, {Size = UDim2.new(0, 0, 0, 24)}, 0.2)
            end
        end)
        
        -- AddSection: Create section divider
        function Tab:AddSection(config)
            config = config or {}
            local Title = config.Name or config.Title or "Section"
            
            local SectionFrame = Instance.new("Frame")
            SectionFrame.Name = "Section_" .. Title
            SectionFrame.Size = UDim2.new(1, 0, 0, 35)
            SectionFrame.BackgroundTransparency = 1
            SectionFrame.BorderSizePixel = 0
            SectionFrame.Parent = TabContent
            
            local SectionTitle = Instance.new("TextLabel")
            SectionTitle.Size = UDim2.new(1, -20, 0, 25)
            SectionTitle.Position = UDim2.new(0, 10, 0, 5)
            SectionTitle.BackgroundTransparency = 1
            SectionTitle.Text = Title
            SectionTitle.TextColor3 = Theme.Accent
            SectionTitle.TextSize = 16
            SectionTitle.Font = Enum.Font.GothamBold
            SectionTitle.TextXAlignment = Enum.TextXAlignment.Left
            SectionTitle.Parent = SectionFrame
            
            local SectionLine = Instance.new("Frame")
            SectionLine.Size = UDim2.new(1, -20, 0, 1)
            SectionLine.Position = UDim2.new(0, 10, 1, -5)
            SectionLine.BackgroundColor3 = Theme.Border
            SectionLine.BorderSizePixel = 0
            SectionLine.Parent = SectionFrame
            
            return SectionFrame
        end
        
        -- AddToggle: Create toggle switch
        function Tab:AddToggle(config)
            config = config or {}
            local Title = config.Name or config.Title or "Toggle"
            local Description = config.Description or config.Desc or ""
            local Default = config.Default or false
            local Callback = config.Callback or function() end
            
            local ToggleFrame = Instance.new("Frame")
            ToggleFrame.Name = "Toggle_" .. Title
            ToggleFrame.Size = UDim2.new(1, 0, 0, Description ~= "" and 70 or 50)
            ToggleFrame.BackgroundTransparency = 1
            ToggleFrame.BorderSizePixel = 0
            ToggleFrame.Parent = TabContent
            
            local ToggleTitle = Instance.new("TextLabel")
            ToggleTitle.Size = UDim2.new(1, -80, 0, Description ~= "" and 22 or 50)
            ToggleTitle.Position = UDim2.new(0, 15, 0, Description ~= "" and 8 or 0)
            ToggleTitle.BackgroundTransparency = 1
            ToggleTitle.Text = Title
            ToggleTitle.TextColor3 = Theme.Text
            ToggleTitle.TextSize = 15
            ToggleTitle.Font = Enum.Font.GothamSemibold
            ToggleTitle.TextXAlignment = Enum.TextXAlignment.Left
            ToggleTitle.Parent = ToggleFrame
            
            if Description ~= "" then
                local ToggleDesc = Instance.new("TextLabel")
                ToggleDesc.Size = UDim2.new(1, -80, 0, 35)
                ToggleDesc.Position = UDim2.new(0, 15, 0, 30)
                ToggleDesc.BackgroundTransparency = 1
                ToggleDesc.Text = Description
                ToggleDesc.TextColor3 = Theme.SubText
                ToggleDesc.TextSize = 13
                ToggleDesc.Font = Enum.Font.Gotham
                ToggleDesc.TextXAlignment = Enum.TextXAlignment.Left
                ToggleDesc.TextYAlignment = Enum.TextYAlignment.Top
                ToggleDesc.TextWrapped = true
                ToggleDesc.Parent = ToggleFrame
            end
            
            local ToggleButton = Instance.new("TextButton")
            ToggleButton.Size = UDim2.new(0, 40, 0, 20)
            ToggleButton.Position = UDim2.new(1, -55, 0.5, -10)
            ToggleButton.BackgroundColor3 = Default and Theme.ToggleOn or Theme.ToggleOff
            ToggleButton.BorderSizePixel = 0
            ToggleButton.Text = ""
            ToggleButton.Parent = ToggleFrame
            
            local ToggleButtonCorner = Instance.new("UICorner")
            ToggleButtonCorner.CornerRadius = UDim.new(1, 0)
            ToggleButtonCorner.Parent = ToggleButton
            
            local ToggleCircle = Instance.new("Frame")
            ToggleCircle.Size = UDim2.new(0, 16, 0, 16)
            ToggleCircle.Position = Default and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)
            ToggleCircle.BackgroundColor3 = Theme.Text
            ToggleCircle.BorderSizePixel = 0
            ToggleCircle.Parent = ToggleButton
            
            local CircleCorner = Instance.new("UICorner")
            CircleCorner.CornerRadius = UDim.new(1, 0)
            CircleCorner.Parent = ToggleCircle
            
            local toggled = Default
            
            ToggleButton.MouseButton1Click:Connect(function()
                toggled = not toggled
                Tween(ToggleButton, {BackgroundColor3 = toggled and Theme.ToggleOn or Theme.ToggleOff}, 0.2)
                Tween(ToggleCircle, {Position = toggled and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)}, 0.2)
                Callback(toggled)
            end)
            
            return {
                Set = function(value)
                    toggled = value
                    Tween(ToggleButton, {BackgroundColor3 = toggled and Theme.ToggleOn or Theme.ToggleOff}, 0.2)
                    Tween(ToggleCircle, {Position = toggled and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)}, 0.2)
                end
            }
        end
        
        -- AddSlider: Create slider
        function Tab:AddSlider(config)
            config = config or {}
            local Title = config.Name or config.Title or "Slider"
            local Description = config.Description or config.Desc or ""
            local Min = config.Min or 0
            local Max = config.Max or 100
            local Default = config.Default or Min
            local Increment = config.Increment or config.Rounding or 1
            local Callback = config.Callback or function() end
            
            local SliderFrame = Instance.new("Frame")
            SliderFrame.Name = "Slider_" .. Title
            SliderFrame.Size = UDim2.new(1, 0, 0, Description ~= "" and 85 or 65)
            SliderFrame.BackgroundTransparency = 1
            SliderFrame.BorderSizePixel = 0
            SliderFrame.Parent = TabContent
            
            local SliderTitle = Instance.new("TextLabel")
            SliderTitle.Size = UDim2.new(0.7, 0, 0, 20)
            SliderTitle.Position = UDim2.new(0, 15, 0, 8)
            SliderTitle.BackgroundTransparency = 1
            SliderTitle.Text = Title
            SliderTitle.TextColor3 = Theme.Text
            SliderTitle.TextSize = 15
            SliderTitle.Font = Enum.Font.GothamSemibold
            SliderTitle.TextXAlignment = Enum.TextXAlignment.Left
            SliderTitle.Parent = SliderFrame
            
            local SliderValue = Instance.new("TextLabel")
            SliderValue.Size = UDim2.new(0.3, -15, 0, 20)
            SliderValue.Position = UDim2.new(0.7, 0, 0, 8)
            SliderValue.BackgroundTransparency = 1
            SliderValue.Text = tostring(Default)
            SliderValue.TextColor3 = Theme.Accent
            SliderValue.TextSize = 15
            SliderValue.Font = Enum.Font.GothamBold
            SliderValue.TextXAlignment = Enum.TextXAlignment.Right
            SliderValue.Parent = SliderFrame
            
            if Description ~= "" then
                local SliderDesc = Instance.new("TextLabel")
                SliderDesc.Size = UDim2.new(1, -30, 0, 20)
                SliderDesc.Position = UDim2.new(0, 15, 0, 28)
                SliderDesc.BackgroundTransparency = 1
                SliderDesc.Text = Description
                SliderDesc.TextColor3 = Theme.SubText
                SliderDesc.TextSize = 13
                SliderDesc.Font = Enum.Font.Gotham
                SliderDesc.TextXAlignment = Enum.TextXAlignment.Left
                SliderDesc.TextWrapped = true
                SliderDesc.Parent = SliderFrame
            end
            
            local SliderBG = Instance.new("Frame")
            SliderBG.Size = UDim2.new(1, -30, 0, 4)
            SliderBG.Position = UDim2.new(0, 15, 1, Description ~= "" and -18 or -15)
            SliderBG.BackgroundColor3 = Theme.Secondary
            SliderBG.BorderSizePixel = 0
            SliderBG.Parent = SliderFrame
            
            local SliderBGCorner = Instance.new("UICorner")
            SliderBGCorner.CornerRadius = UDim.new(1, 0)
            SliderBGCorner.Parent = SliderBG
            
            local SliderFill = Instance.new("Frame")
            SliderFill.Size = UDim2.new((Default - Min) / (Max - Min), 0, 1, 0)
            SliderFill.BackgroundColor3 = Theme.Accent
            SliderFill.BorderSizePixel = 0
            SliderFill.Parent = SliderBG
            
            local SliderFillCorner = Instance.new("UICorner")
            SliderFillCorner.CornerRadius = UDim.new(1, 0)
            SliderFillCorner.Parent = SliderFill
            
            local dragging = false
            
            local function UpdateSlider(input)
                local pos = math.clamp((input.Position.X - SliderBG.AbsolutePosition.X) / SliderBG.AbsoluteSize.X, 0, 1)
                local value = math.floor((Min + (Max - Min) * pos) / Increment + 0.5) * Increment
                SliderValue.Text = tostring(value)
                Tween(SliderFill, {Size = UDim2.new(pos, 0, 1, 0)}, 0.1)
                Callback(value)
            end
            
            SliderBG.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = true
                    UpdateSlider(input)
                end
            end)
            
            SliderBG.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = false
                end
            end)
            
            UserInputService.InputChanged:Connect(function(input)
                if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
                    UpdateSlider(input)
                end
            end)
            
            return {
                Set = function(value)
                    value = math.clamp(value, Min, Max)
                    SliderValue.Text = tostring(value)
                    Tween(SliderFill, {Size = UDim2.new((value - Min) / (Max - Min), 0, 1, 0)}, 0.2)
                end
            }
        end
        
        -- AddDropdown: Create dropdown menu
        function Tab:AddDropdown(config)
            config = config or {}
            local Title = config.Name or config.Title or "Dropdown"
            local Options = config.Options or {}
            local Default = config.Default or Options[1] or ""
            local Callback = config.Callback or function() end
            
            local DropdownFrame = Instance.new("Frame")
            DropdownFrame.Name = "Dropdown_" .. Title
            DropdownFrame.Size = UDim2.new(1, 0, 0, 50)
            DropdownFrame.BackgroundTransparency = 1
            DropdownFrame.BorderSizePixel = 0
            DropdownFrame.Parent = TabContent
            
            local DropdownTitle = Instance.new("TextLabel")
            DropdownTitle.Size = UDim2.new(1, -30, 0, 20)
            DropdownTitle.Position = UDim2.new(0, 15, 0, 5)
            DropdownTitle.BackgroundTransparency = 1
            DropdownTitle.Text = Title
            DropdownTitle.TextColor3 = Theme.Text
            DropdownTitle.TextSize = 15
            DropdownTitle.Font = Enum.Font.GothamSemibold
            DropdownTitle.TextXAlignment = Enum.TextXAlignment.Left
            DropdownTitle.Parent = DropdownFrame
            
            local DropdownButton = Instance.new("TextButton")
            DropdownButton.Size = UDim2.new(1, -30, 0, 30)
            DropdownButton.Position = UDim2.new(0, 15, 0, 25)
            DropdownButton.BackgroundColor3 = Theme.Secondary
            DropdownButton.BorderSizePixel = 0
            DropdownButton.Text = ""
            DropdownButton.Parent = DropdownFrame
            
            local DropdownCorner = Instance.new("UICorner")
            DropdownCorner.CornerRadius = UDim.new(0, 5)
            DropdownCorner.Parent = DropdownButton
            
            local DropdownText = Instance.new("TextLabel")
            DropdownText.Size = UDim2.new(1, -40, 1, 0)
            DropdownText.Position = UDim2.new(0, 10, 0, 0)
            DropdownText.BackgroundTransparency = 1
            DropdownText.Text = Default
            DropdownText.TextColor3 = Theme.Text
            DropdownText.TextSize = 14
            DropdownText.Font = Enum.Font.Gotham
            DropdownText.TextXAlignment = Enum.TextXAlignment.Left
            DropdownText.Parent = DropdownButton
            
            local DropdownArrow = Instance.new("TextLabel")
            DropdownArrow.Size = UDim2.new(0, 30, 1, 0)
            DropdownArrow.Position = UDim2.new(1, -30, 0, 0)
            DropdownArrow.BackgroundTransparency = 1
            DropdownArrow.Text = "‚ñº"
            DropdownArrow.TextColor3 = Theme.SubText
            DropdownArrow.TextSize = 12
            DropdownArrow.Font = Enum.Font.Gotham
            DropdownArrow.Parent = DropdownButton
            
            local DropdownList = Instance.new("Frame")
            DropdownList.Size = UDim2.new(1, -30, 0, 0)
            DropdownList.Position = UDim2.new(0, 15, 0, 60)
            DropdownList.BackgroundColor3 = Theme.Secondary
            DropdownList.BorderSizePixel = 0
            DropdownList.Visible = false
            DropdownList.ZIndex = 10
            DropdownList.Parent = DropdownFrame
            
            local DropdownListCorner = Instance.new("UICorner")
            DropdownListCorner.CornerRadius = UDim.new(0, 5)
            DropdownListCorner.Parent = DropdownList
            
            local OptionsContainer = Instance.new("ScrollingFrame")
            OptionsContainer.Size = UDim2.new(1, 0, 1, 0)
            OptionsContainer.BackgroundTransparency = 1
            OptionsContainer.BorderSizePixel = 0
            OptionsContainer.ScrollBarThickness = 3
            OptionsContainer.ScrollBarImageColor3 = Theme.Accent
            OptionsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
            OptionsContainer.Parent = DropdownList
            
            local OptionsList = Instance.new("UIListLayout")
            OptionsList.SortOrder = Enum.SortOrder.LayoutOrder
            OptionsList.Padding = UDim.new(0, 2)
            OptionsList.Parent = OptionsContainer
            
            OptionsList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
                OptionsContainer.CanvasSize = UDim2.new(0, 0, 0, OptionsList.AbsoluteContentSize.Y)
            end)
            
            local opened = false
            
            DropdownButton.MouseButton1Click:Connect(function()
                opened = not opened
                if opened then
                    DropdownList.Visible = true
                    local targetHeight = math.min(#Options * 32, 150)
                    Tween(DropdownFrame, {Size = UDim2.new(1, 0, 0, 50 + targetHeight + 10)}, 0.2)
                    Tween(DropdownList, {Size = UDim2.new(1, -30, 0, targetHeight)}, 0.2)
                    Tween(DropdownArrow, {Rotation = 180}, 0.2)
                else
                    Tween(DropdownFrame, {Size = UDim2.new(1, 0, 0, 50)}, 0.2)
                    Tween(DropdownList, {Size = UDim2.new(1, -30, 0, 0)}, 0.2)
                    Tween(DropdownArrow, {Rotation = 0}, 0.2)
                    task.delay(0.2, function()
                        DropdownList.Visible = false
                    end)
                end
            end)
            
            for _, option in ipairs(Options) do
                local OptionButton = Instance.new("TextButton")
                OptionButton.Size = UDim2.new(1, 0, 0, 30)
                OptionButton.BackgroundColor3 = Theme.Background
                OptionButton.BorderSizePixel = 0
                OptionButton.Text = option
                OptionButton.TextColor3 = Theme.Text
                OptionButton.TextSize = 13
                OptionButton.Font = Enum.Font.Gotham
                OptionButton.Parent = OptionsContainer
                
                local OptionCorner = Instance.new("UICorner")
                OptionCorner.CornerRadius = UDim.new(0, 4)
                OptionCorner.Parent = OptionButton
                
                OptionButton.MouseEnter:Connect(function()
                    Tween(OptionButton, {BackgroundColor3 = Theme.Accent}, 0.2)
                end)
                
                OptionButton.MouseLeave:Connect(function()
                    Tween(OptionButton, {BackgroundColor3 = Theme.Background}, 0.2)
                end)
                
                OptionButton.MouseButton1Click:Connect(function()
                    DropdownText.Text = option
                    Callback(option)
                    opened = false
                    Tween(DropdownFrame, {Size = UDim2.new(1, 0, 0, 50)}, 0.2)
                    Tween(DropdownList, {Size = UDim2.new(1, -30, 0, 0)}, 0.2)
                    Tween(DropdownArrow, {Rotation = 0}, 0.2)
                    task.delay(0.2, function()
                        DropdownList.Visible = false
                    end)
                end)
            end
            
            return {
                Set = function(option)
                    DropdownText.Text = option
                end
            }
        end
        
        -- AddButton: Create button
        function Tab:AddButton(config)
            config = config or {}
            local Title = config.Name or config.Title or "Button"
            local Description = config.Description or config.Desc or ""
            local Callback = config.Callback or function() end
            
            local ButtonFrame = Instance.new("Frame")
            ButtonFrame.Name = "Button_" .. Title
            ButtonFrame.Size = UDim2.new(1, 0, 0, Description ~= "" and 70 or 50)
            ButtonFrame.BackgroundTransparency = 1
            ButtonFrame.BorderSizePixel = 0
            ButtonFrame.Parent = TabContent
            
            local Button = Instance.new("TextButton")
            Button.Size = UDim2.new(1, -30, 0, Description ~= "" and 35 or 40)
            Button.Position = UDim2.new(0, 15, 0, 5)
            Button.BackgroundColor3 = Theme.Accent
            Button.BorderSizePixel = 0
            Button.Text = ""
            Button.Parent = ButtonFrame
            
            local ButtonCorner = Instance.new("UICorner")
            ButtonCorner.CornerRadius = UDim.new(0, 6)
            ButtonCorner.Parent = Button
            
            local ButtonTitle = Instance.new("TextLabel")
            ButtonTitle.Size = UDim2.new(1, -20, 0, 20)
            ButtonTitle.Position = UDim2.new(0, 10, 0, Description ~= "" and 5 or 10)
            ButtonTitle.BackgroundTransparency = 1
            ButtonTitle.Text = Title
            ButtonTitle.TextColor3 = Theme.Text
            ButtonTitle.TextSize = 15
            ButtonTitle.Font = Enum.Font.GothamBold
            ButtonTitle.TextXAlignment = Enum.TextXAlignment.Center
            ButtonTitle.Parent = Button
            
            if Description ~= "" then
                local ButtonDesc = Instance.new("TextLabel")
                ButtonDesc.Size = UDim2.new(1, -20, 0, 15)
                ButtonDesc.Position = UDim2.new(0, 10, 0, 22)
                ButtonDesc.BackgroundTransparency = 1
                ButtonDesc.Text = Description
                ButtonDesc.TextColor3 = Theme.SubText
                ButtonDesc.TextSize = 12
                ButtonDesc.Font = Enum.Font.Gotham
                ButtonDesc.TextXAlignment = Enum.TextXAlignment.Center
                ButtonDesc.TextWrapped = true
                ButtonDesc.Parent = Button
            end
            
            Button.MouseEnter:Connect(function()
                Tween(Button, {BackgroundColor3 = Theme.AccentHover}, 0.2)
            end)
            
            Button.MouseLeave:Connect(function()
                Tween(Button, {BackgroundColor3 = Theme.Accent}, 0.2)
            end)
            
            Button.MouseButton1Click:Connect(function()
                Callback()
            end)
        end
        
        table.insert(Window.Tabs, Tab)
        
        -- Activate first tab by default
        if #Window.Tabs == 1 then
            Tab:Activate()
        end
        
        return Tab
    end
    
    -- Notify: Show notification
    function Window:Notify(config)
        config = config or {}
        local Title = config.Title or "Notification"
        local Content = config.Content or ""
        local Duration = config.Duration or 3
        
        local NotifFrame = Instance.new("Frame")
        NotifFrame.Size = UDim2.new(0, 300, 0, 0)
        NotifFrame.Position = UDim2.new(1, -320, 1, -20)
        NotifFrame.BackgroundColor3 = Theme.Secondary
        NotifFrame.BorderSizePixel = 0
        NotifFrame.Parent = ScreenGui
        
        local NotifCorner = Instance.new("UICorner")
        NotifCorner.CornerRadius = UDim.new(0, 8)
        NotifCorner.Parent = NotifFrame
        
        local NotifTitle = Instance.new("TextLabel")
        NotifTitle.Size = UDim2.new(1, -20, 0, 25)
        NotifTitle.Position = UDim2.new(0, 10, 0, 8)
        NotifTitle.BackgroundTransparency = 1
        NotifTitle.Text = Title
        NotifTitle.TextColor3 = Theme.Text
        NotifTitle.TextSize = 14
        NotifTitle.Font = Enum.Font.GothamBold
        NotifTitle.TextXAlignment = Enum.TextXAlignment.Left
        NotifTitle.Parent = NotifFrame
        
        local NotifContent = Instance.new("TextLabel")
        NotifContent.Size = UDim2.new(1, -20, 1, -40)
        NotifContent.Position = UDim2.new(0, 10, 0, 33)
        NotifContent.BackgroundTransparency = 1
        NotifContent.Text = Content
        NotifContent.TextColor3 = Theme.SubText
        NotifContent.TextSize = 12
        NotifContent.Font = Enum.Font.Gotham
        NotifContent.TextXAlignment = Enum.TextXAlignment.Left
        NotifContent.TextYAlignment = Enum.TextYAlignment.Top
        NotifContent.TextWrapped = true
        NotifContent.Parent = NotifFrame
        
        local contentHeight = NotifContent.TextBounds.Y
        local totalHeight = 50 + contentHeight
        
        Tween(NotifFrame, {Size = UDim2.new(0, 300, 0, totalHeight)}, 0.3)
        Tween(NotifFrame, {Position = UDim2.new(1, -320, 1, -totalHeight - 20)}, 0.3)
        
        task.delay(Duration, function()
            Tween(NotifFrame, {Position = UDim2.new(1, -320, 1, -20)}, 0.3)
            Tween(NotifFrame, {Size = UDim2.new(0, 300, 0, 0)}, 0.3)
            task.wait(0.3)
            NotifFrame:Destroy()
        end)
    end
    
    return Window
end

return VoidwareUI
